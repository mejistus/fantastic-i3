# font for window titles and bar
# font pango:Source Sans Pro 10

font pango:Noto Sans 10
# use win key
set $mod Mod4
set $alt Mod1
# define names for workspaces

set $ws1    "1"
set $ws2    "2"
set $ws3    "3"
set $ws4    "4"
set $ws5    "5"
set $ws6    "6"
set $ws7    "7"
set $ws8    "8"
set $ws9    "9"
set $ws10   "10"
# set $ws1    "甲"
# set $ws2    "乙"
# set $ws3    "丙"
# set $ws4    "丁"
# set $ws5    "戊"
# set $ws6    "己"
# set $ws7    "庚"
# set $ws8    "辛"
# set $ws9    "壬"
# set $ws10   "葵"
workspace 1  output HDMI-1 
workspace 2  output HDMI-1 
workspace 3  output HDMI-1 
workspace 4  output HDMI-1 
workspace 5  output HDMI-1 
workspace 6  output HDMI-1 
workspace 7  output HDMI-1 
workspace 8  output HDMI-1 
workspace 9  output HDMI-1 
workspace 10 output HDMI-1 

# use $mod+Mouse to drag floating windows to their wanted position
floating_modifier $mod
# tiling_drag on
# tiling_drag modifier
# |titlebar
# control focused window when follows the mouse movements
# focus_on_window_activation none
# window border settings
#1default_border          none
# default_border          pixel 2
#default_border          none 
# default_floating_border pixel 2

# floating_minimum_size 32 x 18
# floating_maximum_size 1920 x 1080
# floating_maximum_size 1920 x -1 
# smart_borders on

# hiding borders adjacent to the screen edges
# hide_edge_borders both

# set popups during fullscreen mode
popup_during_fullscreen ignore

set $term kitty
# start a terminal
bindsym $mod+b exec --no-startup-id bilibili
bindsym $mod+c exec --no-startup-id rofi-code
bindsym Ctrl+$mod+Return exec --no-startup-id pkill polybar || bash ~/.config/polybar/launch.sh 
bindsym $mod+Return exec --no-startup-id $term 
bindsym $mod+space exec --no-startup-id pkill -x rofi || bash ~/.config/rofi/launcher.sh
bindsym $alt+Tab exec --no-startup-id pkill -x rofi || rofi -show window
bindsym $mod+Tab workspace back_and_forth
# bindsym $mod+g exec --no-startup-id google-chrome-stable
bindsym $mod+g exec --no-startup-id qutebrowser
# bindsym $mod+n exec --no-startup-id neovide
bindsym $mod+d exec --no-startup-id dolphin
# bindsym Ctrl+$mod+d exec --no-startup-id rofi-zeal
# bindsym Ctrl+$mod+m exec --no-startup-id rofi-mpd -a
bindsym $alt+Return exec --no-startup-id $term -e btop
# bindsym $mod+Shift+s exec --no-startup-id bash ~/.config/i3/swap_workspace.sh
# bindsym $mod+d exec --no-startup-id $term -e ranger
# bindsym $mod+b nop bilibili

show_marks yes
# kill focused window
bindsym $mod+q kill


# alternatively, you can use the cursor keys:
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Left   focus left
bindsym $mod+Down   focus down
bindsym $mod+Right  focus right
bindsym $mod+Up     focus up


# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left     move left  32 px
bindsym $mod+Shift+Right    move right 32 px
bindsym $mod+Shift+Down     move down  18 px 
bindsym $mod+Shift+Up       move up    18 px
bindsym $mod+Shift+h move left  32 px
bindsym $mod+Shift+l move right 32 px
bindsym $mod+Shift+j move down  18 px 
bindsym $mod+Shift+k move up    18 px

# split in horizontal orientation
bindsym $alt+Ctrl+h split h

# split in vertical orientation
bindsym $alt+Ctrl+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle


# bindsym $mod+s layout stacking
bindsym $mod+s layout tabbed
bindsym $mod+Shift+s layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+f floating toggle,move position center
# resize set 1600 900 

# change focus between tiling / floating windows
bindsym Ctrl+space focus mode_toggle
# focus the parent container
# bindsym $mod+a focus parent

# focus the child container
# bindsym $mod+Shift+a focus child

# move the currently focused window to the scratchpad
bindsym $alt+Shift+s move scratchpad


# show the next scratchpad window or hide the focused scratchpad window
bindsym $alt+s scratchpad show
# bindsym $alt+t [instance="kitty"] scratchpad show, resize set 1600 1200, move position center

# move focused floating window to the center of all outputs
bindsym $mod+Shift+m move position center
# bindsym $mod+Ctrl+h move absolute position center

# move focused floating window to the current position of the cursor
# bindsym $mod+Shift+m move position mouse

# set a window to stick to the glass
# bindsym $mod+Shift+s sticky toggle

# sticky preview for media
#bindsym $mod+Shift+p fullscreen disable; floating enable; resize set 350 px 197 px; sticky enable; move window to position 1006 px 537 px

# shortcut to change window border
# bindsym $mod+t border normal    0
# bindsym $mod+y border pixel     1
bindsym $mod+u border none
bindsym $mod+Shift+u border pixel 3

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1 ,workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2 ,workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3 ,workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4 ,workspace $ws4 
bindsym $mod+Shift+5 move container to workspace $ws5 ,workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6 ,workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7 ,workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8 ,workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9 ,workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10,workspace $ws10

bindsym $alt+Shift+1 move container to workspace $ws1 
bindsym $alt+Shift+2 move container to workspace $ws2 
bindsym $alt+Shift+3 move container to workspace $ws3 
bindsym $alt+Shift+4 move container to workspace $ws4 
bindsym $alt+Shift+5 move container to workspace $ws5 
bindsym $alt+Shift+6 move container to workspace $ws6 
bindsym $alt+Shift+7 move container to workspace $ws7 
bindsym $alt+Shift+8 move container to workspace $ws8 
bindsym $alt+Shift+9 move container to workspace $ws9 
bindsym $alt+Shift+0 move container to workspace $ws10



bindsym $mod+Ctrl+Right workspace next
bindsym $mod+Ctrl+Left  workspace prev
bindsym $mod+Ctrl+l workspace next
bindsym $mod+Ctrl+h workspace prev
bindsym Ctrl+Right exec --no-startup-id "bash ~/.config/i3/move_workspace.sh next"
bindsym Ctrl+Left  exec --no-startup-id "bash ~/.config/i3/move_workspace.sh prev"

bindsym Ctrl+l exec --no-startup-id "bash ~/.config/i3/move_workspace.sh next"
bindsym Ctrl+h exec --no-startup-id "bash ~/.config/i3/move_workspace.sh prev"
#bindsym $mod+l exec --no-startup-id "betterlockscreen --lock"
bindsym $mod+o exec --no-startup-id "bash /usr/bin/blurlocker"
bindsym $mod+m exec --no-startup-id "sh ~/.config/rofi/powermenu.sh

# Take a full screenshot store in file
bindsym $mod+Shift+p exec --no-startup-id "spectacle -l"
bindsym $mod+p exec --no-startup-id "flameshot screen"

# bindsym $mod+Shift+p exec --no-startup-id "flameshot gui"
# bindsym $mod+Shift+e exec --no-startup-id "scrot -s"
# volume
bindsym XF86AudioLowerVolume    exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -2%
bindsym XF86AudioRaiseVolume    exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +2%
bindsym XF86AudioMute           exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute        exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

bindsym XF86MonBrightnessUp exec --no-startup-id light -A 2
bindsym XF86MonBrightnessDown exec --no-startup-id light -U 2

# notification

# reload the configuration file
bindsym $mod+Ctrl+c reload

# restart i3 inplace
# bindsym $mod+Ctrl+r inplace
# manage i3 session

# resize window
bindsym $mod+r mode "  "
mode "  " {

    # same bindings, but for the arrow keys
    bindsym Left    resize shrink width 64 px or 64 ppt
    bindsym Right   resize grow   width 64 px or 64 ppt
    bindsym Down    resize grow   height 36 px or 36 ppt
    bindsym Up      resize shrink height 36 px or 36 ppt
    bindsym h       resize shrink width 64 px or 64 ppt
    bindsym j       resize grow   width 64 px or 64 ppt
    bindsym l       resize grow   height 36 px or 36 ppt
    bindsym k       resize shrink height 36 px or 36 ppt
    # back to normal: Enter or win+r
    bindsym Return mode "default" move position center
    bindsym $mod+r mode "default" move position center

}


focus_follows_mouse yes
focus_on_window_activation urgent
# no_focus [all]
no_focus [class="matplotlib"]
for_window [class=.*] border pixel 3
# for_window [urgent="latest"] focus
# set specific windows to floating mode 
# for_window [class="kitty"]                          scratchpad show, resize set 1200 900
for_window [window_role="app"]                      floating enable 
for_window [window_role="pop-up"]                   floating enable
for_window [window_role="task_dialog"]              floating enable
for_window [title="Preferences$"]                   floating enable
for_window [title="阿里云盘"]                       floating enable
for_window [class="Zeal"]                           floating enable
for_window [class="latexocr"]                       floating enable 
for_window [class="MuPDF"]                          floating enable 
for_window [class="Clash for Windows"]              floating enable
for_window [class="SimpleScreenRecorder"]           floating enable
for_window [class="Blueberry.py"]                   floating enable
for_window [class="java-lang-Thread"]               floating enable
for_window [class="VirtualBox Manager"]             floating enable
for_window [class="QQ"]                             floating enable
for_window [class="org.jackhuang.hmcl.Launcher"]    floating enable
# for_window [class="Steam"]                          floating enable
# for_window [class="steam"]                          floating enable
for_window [class="words-picker"]                   floating enable
for_window [class="stacer"]                         floating enable
for_window [class="Virt-manager"]                   floating enable
for_window [class="Pavucontrol"]                    floating enable
for_window [class="mpv"]                            floating enable
for_window [class="wemeetapp"]                      floating enable,move container to workspace $ws10
for_window [class="Matplotlib"]                     floating enable,move container to workspace $ws10
for_window [class="kvantummanager"]                 floating enable
for_window [class="livecaptions"]                   floating enable
for_window [class="Kvantum Manager"]                floating enable
for_window [class="steamwebhelper"]                 floating enable
for_window [class="Viewnior"]                       floating enable
for_window [class="lx-music-desktop"]               floating enable
for_window [class="trayer"]                         floating enable
for_window [title="yad-calendar"]                   floating enable
for_window [title="spectacle"]                      floating enable
for_window [class="Nl.hjdskes.gcolor3"]             floating enable
for_window [class="wps"]                          floating enable 
# for_window [class="neovide"]                        gaps 0
# for_window [class="Zathura"]                        gaps 0
for_window [title="Figure*"]                        floating enable
for_window [title="panel"]                          floating enable
for_window [title="Zotero"]                         floating enable
for_window [title="Steam"]                          floating enable
for_window [window_role="bubble"]                   floating enable
for_window [window_role="(?i)(?:pop-up|setup)"]      floating enable
for_window [class="(?i)(?:qt5ct|pinentry)"]          floating enable, focus
for_window [title="(?i)(?:copying|deleting|moving)"] floating enable


# for_window [class="neovide"]                        border pixel 0  gaps 0
for_window [class="Zathura"]                        border pixel 0  gaps 0
# for_window [class="feh"]                            floating enable
# for_window [class="Microsoft-edge"] floating enable
# for_window [class="Google-chrome"] floating enable
# for_window [class="wps"]                            floating enable
for_window [class="bilibili"]                     floating enable

# #546735 -> #81a1c1
# class                 border  backgr. text    indicator child_border
# client.focused          #81a1f1 #81a1f1 #F8F8F2 #81a1f1   #81a1f1
client.focused          #11f1f1 #11f1f1 #F8F8F2 #11f1f1   #11f1f1
client.focused_inactive #2E3440 #2E3440 #F8F8F2 #2E3440   #2E3440
client.unfocused        #2E3440 #2E3440 #BFBFBF #2E3440   #2E3440
client.urgent           #2E3440 #FF5555 #F8F8F2 #FF5555   #FF5555
client.placeholder      #2E3440 #2E3440 #F8F8F2 #2E3440   #2E3440
client.background       #F8F8F2


# assign [class="matplotlib"] -> $ws10
# assign [class="Matplotlib"] -> $ws10
# assign [class="neovide"]    gaps inner 0
# assign [class="neovide"]    gaps outer 0
# assign [class="neovide"]    border pixel 0
# i3-gaps
# smart_gaps on
# gaps inner 2
#:w
# gaps outer 2

# local config file
# startup applications
exec_always --no-startup-id sh ~/.config/i3/monitors.sh
exec_always --no-startup-id conky -c ~/.config/conky/slate-conky-theme/slate-conky.conf
exec_always --no-startup-id bash ~/.config/polybar/launch.sh 
exec_always --no-startup-id dunst
exec_always --no-startup-id picom --config ~/.config/picom/picom.conf
exec_always --no-startup-id sh ~/.config/i3/start.sh
